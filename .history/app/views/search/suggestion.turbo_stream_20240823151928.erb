<!-- app/views/search/suggestion.turbo_stream.erb -->
<turbo-stream target="suggestions" style="color: white" action="replace">
  <template>
    <% if @projects.any? %>
        <table style="width: 80%; border-collapse: collapse; border: 1px solid;">
    <thead>
      <tr style="border: 1px solid">
        <th style="border: 1px solid; padding: 8px;">Name</th>
        <th style="border: 1px solid; padding: 8px;">Description</th>
        <th style="border: 1px solid; padding: 8px;">Show</th>
      </tr>
    </thead>
    <tbody>
      <% @projects.each do |project| %>      
      <% if project&.users&.first&.id == current_user.id %>
        <tr style="border: 1px solid; background-color: #f2f2f2">
          <td style="border: 1px solid; padding: 8px;"><%= project.id%>.<%= link_to project.name, project %></td>
          <td style="border: 1px solid; padding: 8px;"><%= project.description %></td>
          <td colspan="2" style="text-align: center; padding: 8px;">
            <%= link_to "Show this project", project %>
          </td>
        </tr>
      <%else%>
        <tr style="border: 1px solid">
          <td style="border: 1px solid; padding: 8px;"><%= project.id%>.<%= project.name %></td>
          <td style="border: 1px solid; padding: 8px;"><%= project.description %></td>
          <td colspan="2" style="text-align: center; padding: 8px;">
            <%= link_to "Show this project", project %>
          </td>
        </tr>
      <%end%>
      <% end %>
    </tbody>
  </table>
    <% else %>
      <p>No results found.</p>
    <% end %>
  </template>
</turbo-stream>
